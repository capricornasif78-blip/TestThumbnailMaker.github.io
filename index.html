<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Test Maker — Create Thumbnails</title>
<link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' rx='20' fill='%23007AFF'/%3E%3Ctext x='50' y='58' font-size='44' text-anchor='middle' fill='white' font-family='Segoe UI, Roboto, Arial'%3ET%3C/text%3E%3C/svg%3E">
<style>
  :root{--accent1:#00c6ff;--accent2:#0072ff;--muted:#6b7280}
  *{box-sizing:border-box}
  body{font-family:Inter,system-ui,Arial;margin:0;background:linear-gradient(180deg,#f7fbff,#f1f7ff);color:#072036}
  .container{max-width:1100px;margin:22px auto;padding:0 18px}
  header{display:flex;justify-content:space-between;align-items:center;padding:12px 0}
  .brand{display:flex;gap:12px;align-items:center}
  .mark{width:44px;height:44px;border-radius:10px;background:linear-gradient(135deg,var(--accent1),var(--accent2));display:grid;place-items:center;color:white;font-weight:800}
  nav a{margin-left:16px;color:#072036;text-decoration:none;font-weight:600}
  .hero{display:grid;grid-template-columns:1fr 480px;gap:20px;align-items:start}
  .card{background:white;border-radius:12px;padding:18px;box-shadow:0 8px 26px rgba(10, 30, 50, .06)}
  h1{margin:0 0 8px}
  p.small{color:var(--muted);margin:0 0 12px}
  .btn{background:linear-gradient(90deg,var(--accent1),var(--accent2));color:white;padding:10px 14px;border-radius:10px;border:0;font-weight:700;cursor:pointer}
  .input{padding:8px;border-radius:8px;border:1px solid #e6eefc}
  .features{display:flex;gap:12px;margin-top:12px}
  .feat{flex:1;background:#fbfdff;padding:12px;border-radius:10px}
  .gallery{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:10px;margin-top:12px}
  .thumb{height:78px;border-radius:8px;display:flex;align-items:flex-end;padding:8px;color:white;font-weight:700;cursor:pointer;overflow:hidden;position:relative}
  .editor{margin-top:12px}
  .canvas-wrap{border-radius:10px;border:1px dashed #e2efff;min-height:270px;display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg,#fff,#f3fbff)}
  .tools{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
  .tools input[type="range"]{width:140px}
  footer{margin-top:28px;padding:18px;border-radius:12px;background:#081025;color:#dbe9ff}
  .navlinks{display:flex;gap:10px;align-items:center}
  @media(max-width:980px){.hero{grid-template-columns:1fr} .navlinks{display:none}}
</style>
</head>
<body>
  <div class="container">
    <header>
      <div class="brand">
        <div class="mark">T</div>
        <div>
          <div style="font-weight:800">Test Maker</div>
          <div style="font-size:12px;color:var(--muted)">Online thumbnail maker</div>
        </div>
      </div>
      <div class="navlinks">
        <nav>
          <a href="index.html">Home</a>
          <a href="templates.html">Templates</a>
          <a href="pricing.html">Pricing</a>
          <a href="faq.html">FAQ</a>
          <a href="contact.html">Contact</a>
        </nav>
      </div>
    </header>

    <section class="hero">
      <div>
        <div class="card">
          <h1>Create Stunning Thumbnails in Seconds with Test Maker</h1>
          <p class="small">Fast, AI-assisted online thumbnail maker for YouTube, gaming, education and social media. No install — design and download instantly.</p>
          <div style="display:flex;gap:10px;align-items:center">
            <button class="btn" id="startBtn">Start Making Free Thumbnails</button>
            <label for="uploadInput" class="input" style="cursor:pointer">Upload Image</label>
            <input type="file" id="uploadInput" accept="image/*" style="display:none">
            <a href="templates.html" class="input" style="text-decoration:none;color:inherit;padding:8px;border-radius:8px;display:inline-block">Browse Templates</a>
          </div>

          <div class="features" style="margin-top:14px">
            <div class="feat"><strong>Drag & Drop</strong><div class="small">Easily add images & text</div></div>
            <div class="feat"><strong>AI Templates</strong><div class="small">Quick styled templates</div></div>
            <div class="feat"><strong>HD Download</strong><div class="small">Export PNG thumbnails</div></div>
          </div>
        </div>

        <div class="card editor" style="margin-top:14px">
          <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
            <strong>Live Editor</strong>
            <div class="small">Preview & download</div>
          </div>

          <div class="canvas-wrap" id="canvasWrap">
            <canvas id="thumbCanvas" width="1280" height="720" style="max-width:100%;height:auto;border-radius:8px"></canvas>
          </div>

          <div class="tools">
            <input id="textInput" class="input" placeholder="Add headline text">
            <input type="color" id="textColor" value="#ffffff">
            <input type="range" id="fontSize" min="24" max="120" value="56">
            <select id="fontSelect" class="input">
              <option>Impact</option><option>Arial</option><option>Verdana</option><option>Roboto</option>
            </select>
            <button class="btn" id="addText">Add Text</button>
            <button class="input" id="clearText">Clear Text</button>
            <button class="btn" id="downloadBtn">Download PNG</button>
          </div>

          <div style="margin-top:10px;font-size:13px;color:var(--muted)">Tip: Click a text element on the canvas to drag and reposition it. Upload an image or use templates from the <a href="templates.html">Templates</a> page.</div>
        </div>

      </div>

      <aside class="card" style="height:100%">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <strong>Templates</strong>
          <a href="templates.html" class="small" style="text-decoration:none;color:var(--muted)">Open gallery</a>
        </div>
        <div class="gallery" id="miniGallery" style="margin-top:12px">
          <!-- mini templates injected -->
        </div>
      </aside>
    </section>

    <footer>
      <div style="display:flex;justify-content:space-between;align-items:center">
        <div>
          <div style="display:flex;gap:8px;align-items:center"><div class="mark" style="width:36px;height:36px;border-radius:8px">T</div><strong>Test Maker</strong></div>
          <div style="font-size:13px;color:var(--muted);margin-top:6px">Create thumbnails fast — made by creators.</div>
        </div>
        <div style="font-size:13px;color:var(--muted)">© <span id="year"></span> Test Maker</div>
      </div>
    </footer>
  </div>

<script>
/* Simple editor engine with layers, text dragging, upload, template load, download */
const canvas = document.getElementById('thumbCanvas');
const ctx = canvas.getContext('2d');
const uploadInput = document.getElementById('uploadInput');
const textInput = document.getElementById('textInput');
const textColor = document.getElementById('textColor');
const fontSize = document.getElementById('fontSize');
const fontSelect = document.getElementById('fontSelect');
const addTextBtn = document.getElementById('addText');
const clearTextBtn = document.getElementById('clearText');
const downloadBtn = document.getElementById('downloadBtn');
const miniGallery = document.getElementById('miniGallery');
document.getElementById('year').innerText = new Date().getFullYear();

const defaultSize = {w:1280,h:720};
canvas.width = defaultSize.w;
canvas.height = defaultSize.h;

let layers = []; // {type:'image'|'text', img:Image, x,y, text, font, size, color}
let dragging = null;
let dragOffset = {x:0,y:0};

/* Sample templates used for gallery & mini gallery */
const templateDefs = [
  {name:'YouTube Bold', bg:'#ff4757', text:'Make It Viral'},
  {name:'Gaming Epic', bg:'#1e90ff', text:'EPIC WIN'},
  {name:'Tutorial Clean', bg:'#00d084', text:'How to do it'},
  {name:'Business Pro', bg:'#8b5cf6', text:'Top Tips'}
];

function render(){
  // clear
  ctx.clearRect(0,0,canvas.width,canvas.height);
  // background default white
  ctx.fillStyle = '#ffffff';
  ctx.fillRect(0,0,canvas.width,canvas.height);

  // draw image layers first
  layers.forEach(layer => {
    if(layer.type === 'image' && layer.img){
      // scale image to fit canvas preserving aspect
      const iw = layer.img.width, ih = layer.img.height;
      const scale = Math.max(canvas.width/iw, canvas.height/ih);
      const dw = iw * scale, dh = ih * scale;
      const dx = (canvas.width - dw)/2;
      const dy = (canvas.height - dh)/2;
      ctx.drawImage(layer.img, dx, dy, dw, dh);
    }
  });

  // draw shapes/background if any (template)
  layers.forEach(layer => {
    if(layer.type === 'rect'){
      ctx.fillStyle = layer.color;
      ctx.fillRect(0,0,canvas.width,canvas.height);
    }
  });

  // draw text layers
  layers.forEach(layer => {
    if(layer.type === 'text'){
      ctx.font = `${layer.size}px ${layer.font}`;
      ctx.fillStyle = layer.color;
      ctx.textBaseline = 'top';
      // shadow for visibility
      ctx.lineWidth = Math.max(2, Math.floor(layer.size/18));
      ctx.strokeStyle = 'rgba(0,0,0,0.35)';
      ctx.strokeText(layer.text, layer.x, layer.y);
      ctx.fillText(layer.text, layer.x, layer.y);
      // optional border box when selected
      if(layer === dragging){
        const metrics = ctx.measureText(layer.text);
        const w = metrics.width;
        const h = layer.size;
        ctx.strokeStyle = 'rgba(0,114,255,0.9)';
        ctx.lineWidth = 2;
        ctx.strokeRect(layer.x-6, layer.y-6, w+12, h+12);
      }
    }
  });
}

// create mini gallery on sidebar
function buildMiniGallery(){
  miniGallery.innerHTML = '';
  templateDefs.forEach((t,i)=>{
    const d = document.createElement('div');
    d.className = 'thumb';
    d.style.background = `linear-gradient(180deg,${t.bg},#00000030)`;
    d.innerHTML = `<div style="padding:8px"><small>${t.name}</small><div style="font-weight:800;margin-top:6px">${t.text}</div></div>`;
    d.addEventListener('click', ()=> {
      // apply template instantly
      layers = [];
      // add colored rect as background
      layers.push({type:'rect', color:t.bg});
      layers.push({type:'text', text:t.text, font:'Impact', size:80, color:'#fff', x:80, y:240});
      render();
    });
    miniGallery.appendChild(d);
  });
}

// Upload handler
uploadInput.addEventListener('change', (e)=>{
  const file = e.target.files[0];
  if(!file) return;
  const img = new Image();
  img.onload = ()=>{
    layers = layers.filter(l => l.type !== 'image'); // replace previous image
    layers.unshift({type:'image', img: img});
    render();
  };
  img.src = URL.createObjectURL(file);
});

// Add text
addTextBtn.addEventListener('click', ()=>{
  const txt = textInput.value.trim();
  if(!txt) { alert('Please enter text'); return; }
  const size = parseInt(fontSize.value,10) || 56;
  const font = fontSelect.value || 'Impact';
  const color = textColor.value || '#ffffff';
  const newLayer = {type:'text', text:txt, font,font:size?font: 'Impact', size, color, x:80, y:80 + layers.filter(l=>l.type==='text').length*70};
  // note: include font in object properly
  newLayer.font = font;
  layers.push(newLayer);
  render();
  textInput.value = '';
});

// Clear text layers only
clearTextBtn.addEventListener('click', ()=>{
  layers = layers.filter(l => l.type !== 'text');
  render();
});

// Download
downloadBtn.addEventListener('click', ()=>{
  // ensure rendered
  render();
  const link = document.createElement('a');
  link.download = 'test-maker-thumbnail.png';
  link.href = canvas.toDataURL('image/png');
  link.click();
});

// simple hit test for text elements
function hitTestText(x,y){
  for(let i=layers.length-1;i>=0;i--){
    const l = layers[i];
    if(l.type === 'text'){
      ctx.font = `${l.size}px ${l.font}`;
      const metrics = ctx.measureText(l.text);
      const w = metrics.width;
      const h = l.size;
      if(x >= l.x-8 && x <= l.x + w + 8 && y >= l.y-8 && y <= l.y + h + 8){
        return l;
      }
    }
  }
  return null;
}

// mouse events for dragging
let isPointerDown = false;
const rect = canvas.getBoundingClientRect();
function getPos(evt){
  const r = canvas.getBoundingClientRect();
  const clientX = evt.touches ? evt.touches[0].clientX : evt.clientX;
  const clientY = evt.touches ? evt.touches[0].clientY : evt.clientY;
  const x = (clientX - r.left) * (canvas.width / r.width);
  const y = (clientY - r.top) * (canvas.height / r.height);
  return {x,y};
}

canvas.addEventListener('pointerdown', (e)=>{
  const pos = getPos(e);
  const hit = hitTestText(pos.x,pos.y);
  if(hit){
    dragging = hit;
    dragOffset.x = pos.x - hit.x;
    dragOffset.y = pos.y - hit.y;
    isPointerDown = true;
    render();
  }
});

window.addEventListener('pointermove', (e)=>{
  if(!isPointerDown || !dragging) return;
  const pos = getPos(e);
  dragging.x = pos.x - dragOffset.x;
  dragging.y = pos.y - dragOffset.y;
  render();
});

window.addEventListener('pointerup', ()=> {
  isPointerDown = false;
  dragging = null;
  render();
});

// load template passed from templates.html via localStorage
function loadFromLocalStorage(){
  try {
    const raw = localStorage.getItem('selectedTemplate');
    if(!raw) return;
    const t = JSON.parse(raw);
    localStorage.removeItem('selectedTemplate');
    layers = [];
    if(t.bg){
      layers.push({type:'rect', color: t.bg});
    } else if(t.image){
      const img = new Image();
      img.onload = ()=>{ layers.unshift({type:'image', img}); render(); }
      img.src = t.image;
    }
    if(t.text){
      layers.push({type:'text', text:t.text, font:'Impact', size:80, color:'#fff', x:80, y:240});
    }
    render();
  } catch(e){ console.warn(e) }
}

// on start
buildMiniGallery();
loadFromLocalStorage();
render();

// start button focus editor
document.getElementById('startBtn').addEventListener('click', ()=> {
  window.scrollTo({top: document.getElementById('canvasWrap').offsetTop - 40, behavior:'smooth'});
});
</script>
</body>
</html>
